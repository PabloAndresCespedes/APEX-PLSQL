var emulateTab=function(){"use strict";var e,f=new Array("offsetHeight","scrollHeight","clientHeight");function n(){var e=u()||document.body;return r(e,a(e))}function t(t){return void 0===t&&(t=document.body),{toPreviousElement:function(){return r(t,i(),!0)},toNextElement:function(){return r(t,a(t))},to:function(e,n){return void 0===n&&(n=!1),r(t,e,n)}}}function r(e,n,t){if(void 0===t&&(t=!1),e.dispatchEvent(o("keydown",t))){if(e.blur(),n.focus(),document.activeElement!==n)try{document.activeElement=n}catch(e){console.warn("could not switch active element")}n instanceof HTMLInputElement&&(n.selectionStart=0);var r=o("keyup",t);return n.dispatchEvent(r),!0}return e.dispatchEvent(o("keypress",t)),e.dispatchEvent(o("keyup",t)),!1}function o(e,n){return void 0===n&&(n=!1),new KeyboardEvent(e,{code:"Tab",key:"Tab",cancelable:!0,bubbles:!0,shiftKey:n})}function u(){var e=document.activeElement;return e instanceof HTMLElement?e:void 0}function i(e){void 0===e&&(e=document.body);var n=c();if(n.length<1)throw new Error("no selectable elements found");var t=n.indexOf(e);return n[(0<t?t:n.length)-1]}function a(e){void 0===e&&(e=document.body);var n=c();if(n.length<1)throw new Error("no selectable elements found");var t=n.indexOf(e);return n[t+1<n.length?t+1:0]}function c(){var e=Array.from(document.querySelectorAll("*")).filter(l);v();var n=e.filter(function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(n){return!e.some(function(e){return!e(n)})}}(m,d,y,h,p)).reduce(function(e,n){var t=n.tabIndex,r=e[""+t]||{tabIndex:t,elements:[]};return r.elements.push(n),e[t]=r,e},{});return Object.values(n).sort(E).reduce(function(e,n){return e.concat(n.elements)},new Array)}(e=n=n||{}).from=t,e.to=function(e,n){return void 0===n&&(n=!1),t(u()).to(e,n)},e.backwards=function(){return e.to(i(u()),!0)},e.forwards=function(){return e()},e.findSelectableElements=c;var d,l=function(e){return e instanceof HTMLElement},v=function(){var e=function e(n){void 0===n&&(n=document.body);var t=n;var r=f.find(function(e){var n=t[e];return n&&"number"==typeof n&&0<n});if(r)return r;var o=n.children;for(var u=0,i=Array.from(o);u<i.length;u++){var a=i[u],c=e(a);if(c)return c}return}();d=e?s(e):b,v=function(){}},s=function(t){return function(e){var n=e[t];return!!n&&"number"==typeof n&&0<n}};var b=function(e){if(!e.isConnected)return!1;if("BODY"===e.tagName)return!0;var n=getComputedStyle(e);if("none"===n.display)return!1;if("collapse"===n.visibility)return!1;var t=e.parentElement;return!!t&&b(t)};function m(e){return"number"==typeof e.tabIndex&&0<=e.tabIndex}var y=function(e){return!e.disabled};function h(e){return!(e instanceof HTMLAnchorElement&&!e.href&&null===e.getAttribute("tabIndex"))}var p=function(e){return"collapse"!==getComputedStyle(e).visibility};function E(e,n){if(0<e.tabIndex&&0<n.tabIndex)return e.tabIndex-n.tabIndex;if(0<e.tabIndex)return-e.tabIndex;if(0<n.tabIndex)return n.tabIndex;throw new Error("same tab index for two groups")}return n}();